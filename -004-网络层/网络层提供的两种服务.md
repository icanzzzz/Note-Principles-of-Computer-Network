---
title: 网络层提供的两种服务
---



# 面向连接的虚电路服务

- ==可靠通信由网络来保证==
- 必须建立==网络层的连接==————==虚电路VC==（Virtual Circuit）
- 通信双方==沿着已建立的虚电路发送分组==
- 目的主机的地址仅在连接建立阶段使用，之后每个==分组的首部只需要携带一条虚电路的编号==（构成虚电路的每一段链路都有一个虚电路编号）
- 这种通信方式再使用可靠传输的网络协议，就能使所发送的分组最终正确到达接收方（无差错按序到达、不丢失、不重复）
- ==通信结束后，需要释放之前所建立的虚电路==

# 无连接的数据报服务

- ==可靠通信应当由用户主机来保证==
- ==不需要建立网络层连接==
- ==每个分组可走不同的路径==
- 每个分组的==首部必须携带目的主机的完整地址==
- 这种通信方式所传送的==分组可能误码、丢失、重复和失序==
- 由于==网络本身不提供端到端的可靠传输服务==，这就使网络中的路由器可以做得比较简单，而且价格低廉
- 因特网采用了这种设计思想，==将复杂的网络处理功能置于因特网的边缘（用户主机和其内部的运输层）==，而将相对简单的尽最大努力的分组交付功能置于因特网核心

# 比较

- | 对比方面         | 虚电路服务                                     | 数据报服务                                         |
  | ---------------- | ---------------------------------------------- | -------------------------------------------------- |
  | 思路             | 可靠通信应当由网络来保证                       | 可靠通信应当由用户主机来保证                       |
  | 连接的建立       | 必须建立网络层连接                             | 不需要建立网络层连接                               |
  | 终点地址         | 仅在连接建立阶段使用，每个分组使用短的虚电路号 | 每个分组都有终点的完整地址                         |
  | 分组的转发       | 属于同一条虚电路的分组均按照同一路由进行转发   | 每个分组可走不同的路由                             |
  | 当结点出现故障时 | 所有经过出故障的结点的虚电路均不能工作         | 出故障的结点可能会丢失分组，一些路由可能会发生变化 |
  | 分组的顺序       | 总是按发送顺序到达终点                         | 到达终点时不一定按发送顺序                         |
  | 服务质量保证     | 可以将通信资源提前分配给每一个虚电路，容易实现 | 很难实现                                           |