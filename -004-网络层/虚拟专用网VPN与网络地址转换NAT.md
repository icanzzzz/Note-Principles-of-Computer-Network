---
title: 虚拟专用网VPN与网络地址转换NAT
---



# 虚拟专用网VPN

- ==利用公用的因特网作为本机构各专用网之间的通信载体==，这样的专用网又称为虚拟专用网
- VPN要保证传输数据的安全性。==路由器==会将原始的==内部数据报进行加密==，然后再将其封装成为在因特网上发送的数据报。==目标路由器==会判断这是否是VPN数据报，进行解封解密
- ==虚拟专用网中的各主机所分配的地址应该是本机构可自由分配的专用地址==，而不是需要申请的、在因特网上使用的公有地址
- 同一机构内不同部门的内部网络所构成的虚拟专用网VPN又称为==内联网VPN==
- 有时一个机构的VPN需要某些外部机构参加进来。这样的VPN就称为==外联网VPN==
- 在外地工作的员工需要访问公司内部的专用网络时，只要在任何地点接入到因特网，运行驻留在员工PC中的VPN软件，在员工的PC和公司的主机之间建立VPN隧道，即可访问专用网络中的资源。这种VPN称为==远程接入VPN==

# 网络地址转换NAT

- NAT能==使大量使用内部专用地址的专用网络用户共享少量外部全球地址==来访问因特网上的主机和资源
- NAT路由器通过公有IP和私有IP的映射修改IP地址
- 绝大多数的网络应用都是使用运输层协议TCP或UDP来传送数据，因此可以==利用运输层的端口号和IP地址一起进行转换==。这样，用==一个全球IP地址就可以使多个拥有本地地址的主机同时和因特网上的主机进行通信==。这种将端口号和IP地址一起进行转换的技术叫作==网络地址与端口号转换NAPT==（Network Address and Port Translation）
  - 静态NAT：一对一映射，不节省IP地址
  - 动态NAT：多对多映射。私有设备需要访问外部网络时，临时分配一个公有IP。公有IP数量限制了同时访问外部网络的私有设备数量
  - PAT（端口地址转换）：多对一。多个私有IP共享一个公有IP，通过端口号区分不同的连接
- 对于一些P2P网络应用，需要==外网主机主动与内网主机进行通信，在通过NAT时会遇到问题==，需要网络应用自己使用一些特殊的NAT穿越技术来解决问题
- 由于==NAT对外网屏蔽了内网主机的网络地址，能为内网的主机提供一定的安全保护==